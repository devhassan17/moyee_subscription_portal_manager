<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- Hide removed/zero-qty subscription lines from invoices (PDF/HTML) -->
    <template id="moyee_invoice_hide_removed_lines"
              inherit_id="account.report_invoice_document">

        <!-- Filter invoice line rows -->
        <xpath expr="//t[@t-foreach='o.invoice_line_ids']/tr" position="attributes">
            <attribute name="t-if">not getattr(line, 'x_moyee_is_removed', False) and (not hasattr(line, 'quantity') or line.quantity &gt; 0)</attribute>
        </xpath>

    </template>

</odoo>